<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: options.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: options.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
* Utility for building Http module options with ease
* @module Options
* @author Rafael Vidaurre
*/

'use strict';

var _;

_ = require('lodash');

/**
* @class
* @param {object} defaultOptions POJO with default options
*/
function Options (defaultOptions) {
  if (defaultOptions &amp;&amp; !_.isObject(defaultOptions)) {
    throw new Error('Default options must be an object');
  }

  this._defaults = defaultOptions || {};
  this._currentOptions = this._defaults;
}

/**
* Set default options to be used, if no argument is passed returns it instead
* @param {object} defaultOptions default options to be used
* @return current default options if argument is set, otherwise undefined
* @public
*/
Options.prototype.defaults = function (defaultOptions) {
  if (!defaultOptions) {
    return _.cloneDeep(this._defaults);
  }

  if (!_.isObject(defaultOptions)) {
    throw new Error('Default options must be an object');
  }

  this._defaults = defaultOptions;
};

/**
* Extends the current options object with the options provided
* @param {object} options Options object to be used for extension
* @return {object} currentOptions current set options
*/
Options.prototype.extend = function (options) {
  if (!_.isObject(options)) {
    throw new Error('Options must be an object');
  }

  this._currentOptions = _.extend(this._currentOptions, options);

  return this.options();
};

/**
* Returns a clone of the current options set, or extends current set options if object is provided
* @return {object} clone of current options
*/
Options.prototype.options = function (options) {
  if (_.isObject(options)) {
    this.extend(options);
  }

  return _.cloneDeep(this._currentOptions);
};

/**
* Sets a new value for a given key
* @param {string} key Key to which the value is assigned
* @param value Value asigned to the key
*/
Options.prototype.set = function (key, value) {
  this._currentOptions[key] = value;

  return this.options();
};

/**
* Resets options instance to defaults
* @public
*/
Options.prototype.reset = function () {
  this._currentOptions = this._defaults;
};

/** @alias defaults */
Options.prototype.default = Options.prototype.defaults;


module.exports = Options;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Agent.html">Agent</a></li><li><a href="module-Http.html">Http</a></li><li><a href="module-Job.html">Job</a></li><li><a href="module-Options.html">Options</a></li><li><a href="module-Scraper.html">Scraper</a></li><li><a href="module-Task.html">Task</a></li><li><a href="module-TaskDefinition.html">TaskDefinition</a></li><li><a href="module-Utils.html">Utils</a></li><li><a href="module-Yakuza.html">Yakuza</a></li><li><a href="module-YakuzaBase.html">YakuzaBase</a></li></ul><h3>Classes</h3><ul><li><a href="module-Agent-Agent.html">Agent</a></li><li><a href="module-Http-Http.html">Http</a></li><li><a href="module-Job-Job.html">Job</a></li><li><a href="module-Options-Options.html">Options</a></li><li><a href="module-Scraper-Scraper.html">Scraper</a></li><li><a href="module-TaskDefinition-TaskDefinition.html">TaskDefinition</a></li><li><a href="module-Task-Task.html">Task</a></li><li><a href="module-YakuzaBase-YakuzaBase.html">YakuzaBase</a></li></ul><h3>Global</h3><ul><li><a href="global.html#defaults">defaults</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta2</a> on Wed Mar 11 2015 18:36:27 GMT-0300 (CLST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
